!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).UseAsync={},e.React)}(this,(function(e,t){"use strict";function r(e,t,r,n,u,s,c){try{var a=e[s](c),o=a.value}catch(e){return void r(e)}a.done?t(o):Promise.resolve(o).then(n,u)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(u,s){function c(e){r(o,u,s,c,a,"next",e)}function a(e){r(o,u,s,c,a,"throw",e)}var o=e.apply(t,n);c(void 0)}))}}function u(){return(u=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){return{status:t.status,value:"success"===t.status?t.value:e.value,error:"error"===t.status?t.error:void 0}}function c(){return{status:"idle",value:void 0,error:void 0}}function a(e){function r(){d.cancel(),l({status:"cancelled"})}var a,o,i=t.useReducer(s,void 0,c),f=i[0],l=i[1],v=(a=e,(o=t.useRef(a)).current=a,o),d=t.useState((function(){var e,t=new Set;return u(n(regeneratorRuntime.mark((function r(){var n,u,s=arguments;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.add(e),l({status:"loading"}),n=null,r.prev=3,e=n=v.current.apply(v,s),r.next=7,n;case 7:u=r.sent,!t.has(n)&&l({status:"success",value:u}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),n&&!t.has(n)&&l({status:"error",error:r.t0});case 14:return r.prev=14,t.delete(n),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[3,11,14,17]])}))),{cancel:function(){t.add(e)}})}))[0];return t.useEffect((function(){return d.cancel}),[d]),[t.useMemo((function(){return{status:f.status,value:f.value,error:f.error,cancel:r}}),[d,f]),d]}e.useAsync=a,e.useAsyncEffect=function(e,r){var n=a(e),u=n[0],s=n[1];return t.useEffect((function(){s()}),r),u},Object.defineProperty(e,"__esModule",{value:1})}));
//# sourceMappingURL=use-async.js.map
